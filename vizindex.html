<!doctype html>
<head>
<title></title>
</head>
<body>

  <h2>Visualizer</h2>
  <p>
    <p>Using the AnalyserNode and some Canvas 2D visualizations to show both time- and frequency- domain.</p>
  </p>
  <button style="display: block" disabled="true">Please wait, loading...</button>
  <canvas></canvas>
  <!-- <script src="shared.js"></script> -->
  <script>
    
    /** Create a new audio context */
    var context = new (window.AudioContext || window.webkitAudioContext)();

    // We need these 
    if (!context.createGain)
      context.createGain = context.createGainNode;
    if (!context.createDelay)
      context.createDelay = context.createDelayNode;
    if (!context.createScriptProcessor)
      context.createScriptProcessor = context.createJavaScriptNode;

  </script>
  <script src="viz.js"></script>
  <script>
  var sample = new VisualizerSample();
  document.querySelector('button').addEventListener('click', function() {
    sample.togglePlayback()
    setTimeout(() => { sample.freqs }, 100)
  });
  </script>
  </body>
</html>


